var duScrollDefaultEasing=function(a){return.5>a?Math.pow(2*a,2)/2:1-Math.pow(2*(1-a),2)/2};angular.module("duScroll",["duScroll.scroller","duScroll.scrollPosition","duScroll.scrollspy","duScroll.requestAnimation","duScroll.smoothScroll"]).value("duScrollDuration",1e3).value("duScrollEasing",duScrollDefaultEasing),angular.module("duScroll.requestAnimation",[]).factory("requestAnimation",["$window","$timeout",function(a,b){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){b(a,1e3/60)}}]),angular.module("duScroll.scrollPosition",["duScroll.requestAnimation"]).factory("scrollPosition",["$document","$window","$rootScope","$timeout","requestAnimation",function(a,b,c,d,e){var f,g,h=function(){return b.scrollY||document.documentElement.scrollTop||document.body.scrollTop},i=function(){return b.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft},j=[],k=function(){g=f,c.$emit("$duScrollChanged",g);for(var a=0;a<j.length;a++)j[a](g)},l=function(){f=h(),f!==g&&e(k)};angular.element(a).on("scroll",l).triggerHandler("scroll");var m=!1;return{observe:function(a){!m&&console&&console.warn&&(console.warn("scrollPosition.observe is deprecated, use $rootScope.$on('$duScrollChanged') instead"),m=!0),j.push(a)},x:i,y:h}}]),angular.module("duScroll.scroller",["duScroll.requestAnimation"]).factory("scroller",["$window","requestAnimation","scrollPosition","duScrollEasing",function(a,b,c,d){function e(e,f,g){if(!g)return a.scrollTo(e,f),void 0;var h={y:c.y(),x:c.x()},i={y:Math.round(f-h.y),x:Math.round(e-h.x)};if(i.x||i.y){var j=0,k=Math.ceil(g/60),l=function(){j++;var c=j===k?1:d(j/k);a.scrollTo(h.x+Math.ceil(i.x*c),h.y+Math.ceil(i.y*c)),k>j&&b(l)};l()}}function f(a,b,d){e(c.x()+(a||0),c.y()+(b||0),d)}function g(a,b,c){if(angular.isElement(a)&&(a=a[0]||a,a.getBoundingClientRect)){var d=a.getBoundingClientRect();f(0,d.top+(!b||isNaN(b)?0:-b),c)}}return{scrollTo:e,scrollToElement:g,scrollDelta:f}}]),angular.module("duScroll.smoothScroll",["duScroll.scroller"]).directive("duSmoothScroll",["scroller","duScrollDuration",function(a,b){return{link:function(c,d,e){var f=angular.element(d[0]);f.on("click",function(c){if(e.href&&-1!==e.href.indexOf("#")){var d=document.getElementById(e.href.replace(/.*(?=#[^\s]+$)/,"").substring(1));if(d&&d.getBoundingClientRect){c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault();var f=-(e.offset?parseInt(e.offset,10):0),g=e.duration?parseInt(e.duration,10):b,h=d.getBoundingClientRect();a.scrollDelta(0,h.top+(isNaN(f)?0:f),g)}}})}}}]),angular.module("duScroll.scrollspy",["duScroll.scrollPosition"]).directive("duScrollspy",["$rootScope","scrollPosition",function(a){function b(){for(var b,c,d,g=0;g<f.length;g++)c=f[g],d=c.getTargetPosition(),d&&d.top+c.offset<20&&-1*d.top<d.height&&(!b||b.top<d.top)&&(b={top:d.top,spy:c});b&&(b=b.spy),e!==b&&(e&&(e.$element.removeClass("active"),a.$broadcast("duScrollspy:becameInactive",e.$element)),b&&(b.$element.addClass("active"),a.$broadcast("duScrollspy:becameActive",b.$element)),e=b)}function c(c){g||(a.$on("$duScrollChanged",b),g=!0),f.push(c)}function d(a){a===e&&(e=null);var b=f.indexOf(a);-1!==b&&f.splice(b,1)}var e,f=[],g=!1,h=function(a,b,c){angular.isElement(a)?this.target=a:angular.isString(a)&&(this.targetId=a),this.$element=b,this.offset=c};return h.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)),this.target},h.prototype.getTargetPosition=function(){var a=this.getTargetElement();return a?a.getBoundingClientRect():void 0},h.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(a,b,e){var f=e.ngHref||e.href;if(f&&-1!==f.indexOf("#")){var g=f.replace(/.*(?=#[^\s]+$)/,"").substring(1);if(g){var i=new h(g,b,-(e.offset?parseInt(e.offset,10):0));c(i),a.$on("$destroy",function(){d(i)}),a.$on("$locationChangeSuccess",i.flushTargetCache.bind(i))}}}}}]);
//# sourceMappingURL=angular-scroll.min.js.map
